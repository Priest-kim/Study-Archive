# 리팩토링

## Problem-008: 쇼핑몰 상품 검색 시스템

작업일자: 2025-01-19

## 원본 코드의 문제점

1. 함수가 너무 많은 책임을 가지고 있음

   - 필터링, 검색, 정렬 로직이 모두 한 함수에 있음
   - 각 필터의 로직이 서로 얽혀있음

2. 새로운 필터 추가가 어려움

   - 기존 함수를 수정해야 함
   - 다른 필터에 영향을 줄 수 있음

3. 필터 조합의 유연성이 부족

   - 필터 적용 순서가 고정되어 있음
   - 특정 조건에 따른 필터 비활성화가 어려움

4. 코드 중복
   - 필터링 로직에서 비슷한 패턴이 반복됨
   - 가격 계산 로직 등이 여러 곳에서 반복됨

## 개선 방향

1. 각 필터를 독립적인 모듈로 분리
2. 필터 적용 순서를 설정할 수 있도록 개선
3. 새로운 필터 추가가 쉽도록 구조 개선
4. 공통 로직 재사용성 향상
5. 테스트 용이성 개선

## 적용할 수 있는 패턴

1. 체인 오브 책임 패턴 (Chain of Responsibility)

   - 각 필터를 체인으로 연결하여 순차적으로 처리
   - 필터를 자유롭게 추가/제거 가능

2. 전략 패턴 (Strategy Pattern)
   - 각 필터링 조건을 독립된 전략으로 구현
   - 필터의 조합을 유연하게 관리

## 배워야 할 것

1. 체인 오브 책임 패턴의 적절한 활용 방법
2. 전략 패턴을 통한 필터 로직 분리 방법
3. 재사용 가능한 유틸리티 함수 설계 방법

## 예상되는 어려움

1. 필터 적용 순서가 결과에 미치는 영향 관리
2. 필터 간 의존성 처리
3. 성능 최적화 (불필요한 필터링 최소화)

## 목표

1. 새로운 필터 추가가 기존 코드 수정 없이 가능하도록 함
2. 필터 로직의 재사용성 향상
3. 테스트 용이성 확보
4. 코드의 가독성과 유지보수성 향상

## 구현 전 체크리스트

- [ ] 각 필터의 책임 범위 정의
- [ ] 필터 간 의존성 파악
- [ ] 공통 유틸리티 함수 식별
- [ ] 테스트 케이스 작성
